# 🚦 SQL Joins for the Solar System Database

This response addresses the "Try It Yourself" exercises from the provided content, focusing on joining the `planet` and `ring` tables in the `solar_system` database. Each exercise is solved with clear, step-by-step SQL queries, formatted in Markdown for Obsidian, with emojis for readability and verbose explanations. All data is preserved, and artifacts are used for code snippets as per the guidelines.

---

## 📌 Exercise 5-1: Inner Join Between `planet` and `ring` Tables

**Task**: Perform an inner join between the `planet` and `ring` tables based on their `planet_id` columns and determine the expected number of rows.

### 🎯 Solution

An inner join returns only the rows where there is a match in both tables based on the `planet_id` column. The `planet` table lists eight planets (Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune), and the `ring` table lists four planets with rings (Jupiter, Saturn, Uranus, Neptune). Since an inner join includes only matching rows, the result will include only the four planets present in both tables.

**SQL Query**:

```sql
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot
FROM
    planet p
INNER JOIN ring r
ON
    p.planet_id = r.planet_id;
```

**Explanation**:
- **Selection**: We select `planet_id` and `planet_name` from the `planet` table (aliased as `p`) and `ring_tot` from the `ring` table (aliased as `r`).
- **Join**: The `INNER JOIN` ensures only planets with entries in both tables are returned.
- **Condition**: The `ON p.planet_id = r.planet_id` matches rows based on the `planet_id` column.
- **Table Aliases**: `p` and `r` are used for brevity and clarity, as recommended in the content.

**Expected Result**:
```
planet_id  planet_name  ring_tot
---------  -----------  --------
5          Jupiter      3
6          Saturn       7
7          Uranus       13
8          Neptune      6
```

**Row Count**: The query returns **4 rows**, as only four planets (Jupiter, Saturn, Uranus, Neptune) have matching `planet_id` values in both tables.

**Tip** 💡: If you want to avoid typing table names repeatedly, the `USING` keyword can simplify the query to `USING (planet_id)` since both tables share the same column name. Example: `INNER JOIN ring r USING (planet_id)`.

---

## 📌 Exercise 5-2: Left Outer Join with `planet` as the Left Table

**Task**: Perform an outer join between the `planet` and `ring` tables, with the `planet` table as the left table.

### 🎯 Solution

A left outer join returns all rows from the left table (`planet`) and the matching rows from the right table (`ring`). For planets without rings, the `ring` table columns will display `NULL`.

**SQL Query**:

```sql
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot
FROM
    planet p
LEFT OUTER JOIN ring r
ON
    p.planet_id = r.planet_id;
```

**Explanation**:
- **Selection**: We select `planet_id` and `planet_name` from `planet` and `ring_tot` from `ring`.
- **Join**: The `LEFT OUTER JOIN` ensures all rows from `planet` are included, even if there’s no match in `ring`.
- **Condition**: The `ON` clause matches rows based on `planet_id`.
- **Aliases**: `p` and `r` are used for clarity and to reduce typing.

**Expected Result**:
```
planet_id  planet_name  ring_tot
---------  -----------  --------
1          Mercury      NULL
2          Venus        NULL
3          Earth        NULL
4          Mars         NULL
5          Jupiter      3
6          Saturn       7
7          Uranus       13
8          Neptune      6
```

**Explanation of Output**:
- All eight planets from the `planet` table appear.
- For Mercury, Venus, Earth, and Mars, `ring_tot` is `NULL` because these planets have no entries in the `ring` table.
- For Jupiter, Saturn, Uranus, and Neptune, `ring_tot` shows the number of rings from the `ring` table.

**Tip** 💡: The `OUTER` keyword is optional in MySQL, so `LEFT JOIN` would produce the same result. Use `LEFT OUTER JOIN` for clarity in collaborative projects.

---

## 📌 Exercise 5-3: Right Outer Join with `planet` as the Right Table

**Task**: Modify the query from Exercise 5-2 so that the `planet` table is the right table, producing the same result set.

### 🎯 Solution

A right outer join returns all rows from the right table (`planet`) and matching rows from the left table (`ring`). This is equivalent to the left outer join in Exercise 5-2, but with the table order reversed. The result set should be identical, as we want all planets to appear, with `NULL` for `ring_tot` where there are no rings.

**SQL Query**:

```sql
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot
FROM
    ring r
RIGHT OUTER JOIN planet p
ON
    r.planet_id = p.planet_id;
```

**Explanation**:
- **Selection**: Same as Exercise 5-2, selecting `planet_id`, `planet_name`, and `ring_tot`.
- **Join**: The `RIGHT OUTER JOIN` ensures all rows from `planet` (the right table) are included, with `NULL` for non-matching rows from `ring`.
- **Condition**: Matches rows based on `planet_id`.
- **Table Order**: `ring` is listed first (left table), and `planet` is second (right table), reversing the order from Exercise 5-2.

**Expected Result**:
```
planet_id  planet_name  ring_tot
---------  -----------  --------
1          Mercury      NULL
2          Venus        NULL
3          Earth        NULL
4          Mars         NULL
5          Jupiter      3
6          Saturn       7
7          Uranus       13
8          Neptune      6
```

**Explanation of Output**:
- The result is identical to Exercise 5-2 because both queries ensure all rows from the `planet` table are included, with `ring_tot` values for matching planets and `NULL` for others.
- The equivalence demonstrates that `LEFT OUTER JOIN` with `planet` as the left table is the same as `RIGHT OUTER JOIN` with `planet` as the right table.

**Tip** 💡: When choosing between left and right outer joins, consider readability and team conventions. The logical flow of the query (e.g., which table is the “primary” one) often dictates the choice.

---

## 📌 Exercise 5-4: Right Outer Join with Column Alias

**Task**: Modify the query from Exercise 5-3 to use a column alias, displaying `ring_tot` as `rings` in the result set heading.

### 🎯 Solution

We modify the right outer join from Exercise 5-3 by adding a column alias to display `ring_tot` as `rings` in the output.

**SQL Query**:

```sql
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot AS rings
FROM
    ring r
RIGHT OUTER JOIN planet p
ON
    r.planet_id = p.planet_id;
```
    
**Explanation**:
- **Selection**: The columns are selected as before.
- **Column Alias**: `r.ring_tot AS rings` renames the `ring_tot` column to `rings` in the output header.
- **Join**: The `RIGHT OUTER JOIN` ensures all `planet` rows are included.
- **Condition**: Matches rows based on `planet_id`.

**Expected Result**:
```
planet_id  planet_name  rings
---------  -----------  -----
1          Mercury      NULL
2          Venus        NULL
3          Earth        NULL
4          Mars         NULL
5          Jupiter      3
6          Saturn       7
7          Uranus       13
8          Neptune      6
```

**Explanation of Output**:
- Identical to Exercise 5-2, but with the `rings` header instead of `ring_tot`.
- The column alias improves readability by using a more descriptive name.

**Tip** 💡: Column aliases are temporary for the query and don’t affect the underlying table structure. They’re useful for making result sets more intuitive.

**Warning** ⚠️: Ensure column aliases are unique within the query to avoid ambiguity errors in MySQL.

---

## 📚 Summary

These queries demonstrate the power of SQL joins to combine data from the `planet` and `ring` tables:
- **Inner Join**: Returns only the four planets with rings (4 rows).
- **Left/Right Outer Join**: Returns all eight planets, with `NULL` for those without rings.
- **Column Aliasing**: Enhances readability by renaming `ring_tot` to `rings`.

**Additional Example** 🎯:

To explore planets with at least one ring, you could use a `WHERE` clause with an inner join:

```sql
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot AS rings
FROM
    planet p
INNER JOIN ring r
ON
    p.planet_id = r.planet_id
WHERE
    r.ring_tot > 0;
```<xaiArtifact artifact_id="2b6b31bd-cb3e-423f-9849-e5f6a01c01bc" artifact_version_id="becca0e5-5ffb-4ce9-868c-3ec29d186fde" title="filtered_inner_join.sql" contentType="text/sql">
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot AS rings
FROM
    planet p
INNER JOIN ring r
ON
    p.planet_id = r.planet_id
WHERE
    r.ring_tot > 0;
</xaiArtifact>```sql
SELECT
    p.planet_id,
    p.planet_name,
    r.ring_tot AS rings
FROM
    planet p
INNER JOIN ring r
ON
    p.planet_id = r.planet_id
WHERE
    r.ring_tot > 0;
```

**Explanation**:
- **WHERE r.ring_tot > 0**: Filters for planets with at least one ring.
- **Result**: Returns the same four rows as Exercise 5-1, as it excludes planets with no rings (implicitly `NULL` or zero).

**Sample Output**:
```
planet_id  planet_name  rings
---------  -----------  -----
5          Jupiter      3
6          Saturn       7
7          Uranus       13
8          Neptune      6
```

**Tip** 💡: Use `WHERE` clauses to refine join results for specific conditions, reducing the result set size and improving query performance.

**Note**: The date used in this response (July 29, 2025) is for context only and does not affect the SQL queries, which are timeless.